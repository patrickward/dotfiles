#!/usr/bin/env bash
#
# Produce a report of git commits for a client


user () {
  printf "\r  [ \033[0;33m??\033[0m ] %s\n" "$1"
}

# Set delimiter to space
IFS=' '

read -r -p "Show commits since: " since
read -r -p "Show commits until: " until
read -r -p "Show for authors (click enter for all): " -a AUTHORS

authors=()
for author in "${AUTHORS[@]}"; do
  authors+=("--author=$author")
done

printf "%s\n" "$(pwd)"
git log --no-color --since="$since" --until="$until" "${authors[@]}" --pretty=format:"%ci - %<|(60) %cn - %s" -i | grep -v "Merge"

